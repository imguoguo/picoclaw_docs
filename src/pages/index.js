import React from 'react';
import clsx from 'clsx';
import useDocusaurusContext from '@docusaurus/useDocusaurusContext';
import Layout from '@theme/Layout';
import Link from '@docusaurus/Link';
import Translate, { translate } from '@docusaurus/Translate';
import styles from './index.module.css';

function HomepageHero() {
  const { siteConfig } = useDocusaurusContext();
  return (
    <header className={clsx('hero hero--primary', styles.heroBanner)}>
      <div className="container">
        <img src="img/logo.jpg" alt="PicoClaw" width={180} style={{ borderRadius: '50%', marginBottom: '1rem' }} />
        <h1 className="hero__title">{siteConfig.title}</h1>
        <p className="hero__subtitle">
          <Translate id="homepage.tagline">
            Ultra-Efficient AI Assistant in Go
          </Translate>
        </p>
        <div className={styles.statsBar}>
          <div className={styles.statItem}>
            <span className={styles.statValue}>$10</span>
            <span className={styles.statLabel}><Translate id="homepage.stat.hardware">Hardware</Translate></span>
          </div>
          <div className={styles.statItem}>
            <span className={styles.statValue}>&lt;10MB</span>
            <span className={styles.statLabel}><Translate id="homepage.stat.ram">RAM Usage</Translate></span>
          </div>
          <div className={styles.statItem}>
            <span className={styles.statValue}>&lt;1s</span>
            <span className={styles.statLabel}><Translate id="homepage.stat.boot">Boot Time</Translate></span>
          </div>
          <div className={styles.statItem}>
            <span className={styles.statValue}>400x</span>
            <span className={styles.statLabel}><Translate id="homepage.stat.faster">Faster Startup</Translate></span>
          </div>
        </div>
        <div className={styles.buttons}>
          <Link className="button button--secondary button--lg" to="/docs">
            <Translate id="homepage.getStarted">Get Started</Translate>
          </Link>
          <Link
            className="button button--outline button--secondary button--lg"
            to="https://github.com/sipeed/picoclaw"
          >
            GitHub
          </Link>
          <Link
            className="button button--outline button--secondary button--lg"
            to="https://discord.gg/V4sAZ9XWpN"
          >
            Discord
          </Link>
        </div>
      </div>
    </header>
  );
}

const FeatureList = [
  {
    icon: 'ü™∂',
    title: translate({ id: 'feature.lightweight.title', message: 'Ultra-Lightweight' }),
    description: translate({
      id: 'feature.lightweight.desc',
      message: 'Less than 10MB memory footprint ‚Äî 99% smaller than comparable solutions.',
    }),
  },
  {
    icon: 'üí∞',
    title: translate({ id: 'feature.cost.title', message: 'Minimal Cost' }),
    description: translate({
      id: 'feature.cost.desc',
      message: 'Runs on $10 hardware. 98% cheaper than a Mac mini.',
    }),
  },
  {
    icon: '‚ö°Ô∏è',
    title: translate({ id: 'feature.fast.title', message: 'Lightning Fast' }),
    description: translate({
      id: 'feature.fast.desc',
      message: '400x faster startup. Boots in under 1 second even on a 0.6GHz single core.',
    }),
  },
  {
    icon: 'üåç',
    title: translate({ id: 'feature.portable.title', message: 'True Portability' }),
    description: translate({
      id: 'feature.portable.desc',
      message: 'Single self-contained binary for RISC-V, ARM64, and x86_64.',
    }),
  },
  {
    icon: 'üí¨',
    title: translate({ id: 'feature.channels.title', message: 'Multi-Channel' }),
    description: translate({
      id: 'feature.channels.desc',
      message: 'Connect via Telegram, Discord, Slack, DingTalk, Feishu, WeCom, LINE, QQ and more.',
    }),
  },
  {
    icon: 'ü§ñ',
    title: translate({ id: 'feature.ai.title', message: 'AI-Bootstrapped' }),
    description: translate({
      id: 'feature.ai.desc',
      message: '95% agent-generated core with human-in-the-loop refinement.',
    }),
  },
];

function Feature({ icon, title, description }) {
  return (
    <div className={clsx('col col--4')} style={{ marginBottom: '2rem' }}>
      <div className="text--center" style={{ fontSize: '3rem' }}>{icon}</div>
      <div className="text--center padding-horiz--md">
        <h3>{title}</h3>
        <p>{description}</p>
      </div>
    </div>
  );
}

function HomepageFeatures() {
  return (
    <section className={styles.features}>
      <div className="container">
        <div className="row">
          {FeatureList.map((props, idx) => (
            <Feature key={idx} {...props} />
          ))}
        </div>
      </div>
    </section>
  );
}

function HomepageCommunity() {
  return (
    <section className={styles.community}>
      <div className="container">
        <h2 className="text--center">
          <Translate id="community.title">Join the Community</Translate>
        </h2>
        <div className={styles.communityGrid}>
          <div className={styles.communityCard}>
            <Link to="https://github.com/sipeed/picoclaw/blob/main/assets/wechat.png">
              <img
                src="https://raw.githubusercontent.com/sipeed/picoclaw/main/assets/wechat.png"
                alt="WeChat Group QR Code"
                className={styles.qrCode}
              />
            </Link>
            <p className={styles.communityLabel}>
              <Translate id="community.wechat">WeChat Group</Translate>
            </p>
          </div>
          <div className={styles.communityLinks}>
            <Link className="button button--outline button--primary button--lg" to="https://discord.gg/V4sAZ9XWpN">
              üí¨ Discord
            </Link>
            <Link className="button button--outline button--primary button--lg" to="https://github.com/sipeed/picoclaw/discussions">
              <Translate id="community.discussions">GitHub Discussions</Translate>
            </Link>
            <Link className="button button--outline button--primary button--lg" to="https://github.com/sipeed">
              <Translate id="community.sipeedGitHub">Sipeed GitHub</Translate>
            </Link>
            <Link className="button button--outline button--primary button--lg" to="https://x.com/SipeedIO">
              <Translate id="community.sipeedTwitter">Sipeed Twitter</Translate>
            </Link>
          </div>
        </div>
      </div>
    </section>
  );
}

export default function Home() {
  const { siteConfig } = useDocusaurusContext();
  return (
    <Layout
      title={siteConfig.title}
      description="Ultra-Efficient AI Assistant in Go ‚Äî $10 Hardware, 10MB RAM, 1s Boot"
    >
      <HomepageHero />
      <main>
        <HomepageFeatures />
        <HomepageCommunity />
      </main>
    </Layout>
  );
}
